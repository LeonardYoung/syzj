<ion-header>
  <ion-toolbar>
    <ion-title>更改密码</ion-title>
    <ion-buttons slot="start">
      <ion-back-button text="取消" defaultHref="tabs/me/setting"
      ></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content color="medium">
  <ion-list inset="true">
    
  
  <ion-item lines="none">
    <!-- <ion-label>新密码</ion-label> -->
    <ion-input name="newPassword" #nPassword="ngModel" type="password" 
    required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{6,16}$" 
    placeholder="请输入新密码" [(ngModel)]="newPassword"></ion-input>
  </ion-item>

  <ion-item lines="none">
    <ion-input name="confirmPassword" #confirmPassword="ngModel" type="password"
    [ysjConfirm]="newPassword" [(ngModel)]="repeatPassword" required
    placeholder="请确认新密码">
    </ion-input>
    </ion-item>
    <ion-item *ngIf="nPassword.invalid && nPassword.touched" lines="none">
      <ion-text color="danger" *ngIf="nPassword.errors?.pattern">
        密码格式错误
        </ion-text>
        <ion-text color="danger" *ngIf="nPassword.errors?.required">
        请输入密码
      </ion-text>
    </ion-item>
    <ion-item *ngIf="confirmPassword.invalid && confirmPassword.touched" lines="none">
      <ion-text color="danger" *ngIf="confirmPassword.errors?.confirm">
        两次密码不一致
        </ion-text>
        <ion-text color="danger" *ngIf="confirmPassword.errors?.required">
        请输入确认密码
      </ion-text>
    </ion-item>
    
    <ion-button (click)="onChange()" expand="full" color="ysj" [disabled]="(confirmPassword.invalid || nPassword.invalid)">
      保存更改
    </ion-button>
    <!-- <ion-button [disabled]="newPassword.invalid" color="ysj">new pa</ion-button> -->
    <!-- <ion-label>{{newPassword}}</ion-label> -->
  

  </ion-list>
</ion-content>
